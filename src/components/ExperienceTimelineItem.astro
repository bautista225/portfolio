---
import { TECHNOLOGIES, type Technology } from "../data/technologies";
import type { Experience } from "../types";

interface Props extends Experience {}

const { period, title, company, description, technologies } = Astro.props;
---

<div
  class="absolute w-3 h-3 bg-gray-700 rounded-full mt-1.5 -start-1.5 border border-gray-900"
>
</div>
<time class="mb-1 text-sm font-normal leading-none text-gray-500">{period}</time
>
<h3 class="text-lg font-semibold mt-1 flex gap-x-2 flex-wrap">
  <span class="text-emerald-50/90">{title}</span><span class="">Â·</span><span
    class="text-transparent bg-gradient-to-r from-cyan-600 to-purple-500 bg-clip-text"
    >{company}</span
  >
</h3>
<ul class="flex flex-row gap-x-2 gap-y-1.5 mt-0.5 mb-3 flex-wrap">
  {
    technologies.map((technologyName) => {
      const technology =
        TECHNOLOGIES[technologyName as keyof typeof TECHNOLOGIES];
      return (
        <li>
          <span
            class={`flex gap-x-2 rounded-full text-xs ${technology.class} py-1 px-2 `}
          >
            <technology.icon class="size-4" />
            {technology.name}
          </span>
        </li>
      );
    })
  }
</ul>
<p
  class="mb-4 text-base font-normal text-gray-400 hover:text-gray-200 transition text-pretty"
>
  <Fragment set:html={description} />
</p>
